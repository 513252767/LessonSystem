<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>考试申请管理</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

    <style>body {
        padding-top: 60px;
    }</style>

    <link href="../css/bootstrap.css" rel="stylesheet"/>

    <script src="../js/jquery-3.5.1.min.js" type="text/javascript"></script>
    <script src="../js/bootstrap.js" type="text/javascript"></script>

    <script>

        $(function () {
            $.ajax("/BaseServlet?method=queryExamApply", function (applies) {
                for (let apply in applies) {
                    $('examApplyTable').append("<tr height={40px} align=center >\n" +
                        "        <td>" + apply.id + "</td>\n" +
                        "        <td>" + apply.lessonId + "</td>\n" +
                        "        <td>" + apply.number + "</td>\n" +
                        "        <td>" + apply.examTime + "</td>\n" +
                        "<td><button type=\"button\" id=\"\" onclick={classroomSet("+apply.lessonId+","+apply.number+")}>通过申请</button></td>"+
                        "    </tr>");
                }
            })
        })

        function classroomSet(lessonId,number) {
            var classroom = prompt("请输入考试教室");
            $.ajax("/BaseServlet?method=addExam",{lessonId:lessonId,classroom:classroom,number:number},function () {
                alert("通过申请成功!");
            })
        }
    </script>
</head>
<body>
<table id="examApplyTable" border=6 frame=void align=center width=650px height=100px cellspacing=0px cellpadding=10px>
    <tr height=50px align=center>
        <th><font color=gray>申请id</font></th>
        <th><font color=gray>课程id</font></th>
        <th><font color=gray>考试人数</font></th>
        <th><font color=gray>考试时间</font></th>
        <th><font color=gray> </font></th>
    </tr>
</table>
</body>
</html>